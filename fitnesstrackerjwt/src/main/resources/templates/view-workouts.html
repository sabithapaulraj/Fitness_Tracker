<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Workout List</title>
</head>
<body>
<h2>Your Workouts</h2>

<div th:if="${user.role.name() == 'TRAINER'}">
    <h3>Your Created Workout Plans</h3>
    <div th:if="${workouts != null and !workouts.empty}">
        <div th:each="workout : ${workouts}">
            <h4 th:text="${workout.name}">Workout Name</h4>
            <p><strong>Description:</strong> <span th:text="${workout.description}">Description</span></p>
            <p><strong>Created:</strong> <span th:text="${workout.createdAt}">Date</span></p>
            <p><strong>Exercises:</strong> <span th:text="${workout.exercises.size()}">0</span> exercises</p>
            <hr/>
        </div>
    </div>
    <div th:if="${workouts == null or workouts.empty}">
        <p>You haven't created any workout plans yet.</p>
        <p>Use the API endpoints to create workout plans:</p>
        <ul>
            <li>POST /api/plans - Create new workout plan</li>
            <li>POST /api/plans/{id}/exercises - Add exercises to plan</li>
        </ul>
    </div>
</div>

<div th:if="${user.role.name() == 'USER'}">
    <p th:if="${message}" th:text="${message}"></p>
    <p th:if="${!message}">You don't have any assigned workout plans.</p>
    <p><strong>Note:</strong> Users cannot create workout plans. Contact a trainer for workout guidance.</p>
</div>

<br/>
<a th:href="@{/api/user/dashboard}">Back to Dashboard</a>
</body>
</html>
